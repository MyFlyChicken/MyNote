# 常见音频计算公式

## 什么是分贝？

分贝（dB）是一个对数单位（logarithmic unit）, 它和很多常见的单位如“米”，“秒”或者“千克”等物理单位是不同的，它并不能直接用来描述一个物理量的大小或者多少，它表示的是**两个相同单位物理量的比值** 。分贝经常用来描述声音，如超过50dB的噪声就会影响人的睡眠和休息，但分贝不仅仅用来描述声音，它还被用来描述电子学等其他领域的物理量，如描述信号强度的衰减 、信噪比等等。

前面提到分贝表示的是两个物理量的比值，作为分母的那个量通常是一个标准的基准值（standard reference value），分贝描述的就是作为分子的物理量相对于这个基准值的大小，分贝的计算公式如下：

**dB = 10 x lg (value/valueref)**

其中，valueref是基准值。在使用分贝表示物理量基准值是非常重要的，基准值用分贝表示的话是0dB。

简而言之，分贝就是用小数表示更大的数，例如100000，假设基准为1，可以转换为50db。

## 什么是声音分贝-dbSPL(Sound Pressure Levels)

**压强**是作用于单位面积的力，力的单位是**牛顿**，所以压强的单位是**牛 / 米2**。另一种常用的单位是**帕斯卡**，**1 帕=1 牛 / 米2**。

声音的响度**（声响 I ）**和声音的压强**（声压 P ）**之间的关系我们可以用下面的公式来表示：

**I = P2 / ρ**

**ρ**是希腊字母，读作：“肉”，它代表空气的阻力，是一个常量。这个值取决于大气压强、空气温度等等因素。通常情况下，在室温中，空气阻力的值大约是400。因此，普通人能听见的最小的声音响度换算成声压就是：

**0.000000000001 W/m2 = P2 / 400  ------  P = 0.00002 Pa （人能听到的最小声压）**

刚才的公式里P的后面还有一个平方，也就是说声压翻两倍，声响就翻了四倍；声压翻四倍，声响就翻了十六倍……这样的话，我们把声压作为测量单位的时候，之前得到的公式不就出现问题了吗？

不妨，我们来稍微计算一下：

**dB = 10 \* lg (x / y) ------ 此时的X,Y是用声响作测量单位**

**的，我们将P2 / ρ 带入公式，则：

**dBspl = 10 \* lg [ ( Px2 / ρ ) / ( Py2 / ρ ) ]**

​     **= 10 \* lg ( Px2 / Py2 )**

​     **= 10 \* lg ( Px / Py )2**

​     **= 20 \* lg ( Px / Py )**

就这样，问题解决了，和前面的公式不同之处，就是乘了**20**。

那么当我们使用声压作为测量单位的时候，我们选用的**“参照数”就是0.00002帕斯卡**了，接近于我们所说的普通人能听见的最小的声音响度，带入刚才得到的公式，我们来看看：

**dBSPL = 20 \* lg(P /0 .00002 Pa)**
因为log1 = 0，所以：

**20 \* lg (0.00002 Pa /0 .00002 Pa) = 0 dB SPL**(人耳最小声音)

**20 \* lg (20 Pa / 0.00002 Pa) = 120 dB SPL** (人耳最大声音)

## 什么是dBFS(Decibels Full Scale)

dBFS的全称是"Decibels Full Scale"（全分贝刻度）——是一种为数字音频设备创立的分贝值表示方法。

这个家伙和其他几个弟兄不太一样了，它的参照数不是最小的一个，也不是中间的某一个，而是最大的一个！也就是说"0 dBFS"是数字设备能够到达的最高响度水平。此外所有的值都会小于这个数值——都是负数。这就是为什么我们在电脑上看到的峰值表的最高刻度都是"0"，并且指针永远不会读出更高的数字。

但 是，为什么会这样呢？要解释这个问题，我们要简单说一下数字音频的存储原理。我们用16bit的数字音频为例："16bit"的意思是，采样信号以16位 二进制数字来存储。二进制数字就两个："0"和"1"。所以，最大的值就是1111 1111 1111 1111（二进制，换算成十进制是65536），因此，计算dBFS的公式就是：

**dBFS = 20 \* lg ( 采样信号 / 1111 1111 1111 1111 )**

**这样就很容易解释为什么不能超过"0"了，因为dBFS的参照数是最大值，所以：**

**20 \* lg (1111 1111 1111 1111 / 1111 1111 1111 1111) = 0 dBFS**

那么最小的呢？除了0之外，16位二进制最小的数字是：0000 0000 0000 0001，那么：

**20 \* lg (0000 0000 0000 0001 / 1111 1111 1111 1111) = -96 dBFS**

- 假设采样率为24位，dBFS取值为**-144dB~0dB**
- 假设采样率为32位，dBFS取值为**-192dB~0dB**

**重点，将一个32位的无符号整数转换为-192，可见这个对数是多么大牛逼！！！**

## 其它单位的dB

### dBm

参照数1mW，那么

dBm = 10 \* lg ( 被测功率 / 1mW )

****

### dBu(也叫dBv)

参照数0.775V，那么

dBu = 20 \* lg ( 被测电压 / 0 .775 V )

### dBV：

参照数1V，那么

dBV = 20 \* lg ( 被测电压 / 1V )